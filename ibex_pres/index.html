<!DOCTYPE html>

<html lang="en">
    <head>
        <meta name="generator" content="HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
        <meta charset="utf-8">
        <meta name="viewport" content="width=1024">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <title>Ibex</title>
        <meta name="description" content="Ibex">
        <meta name="author" content="Ami Tavory">
        <link href="css/html5.css" rel="stylesheet" type="text/css">
        <link href="css/shThemeDefault.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="css/css-tooltips.css" type="text/css">
        <link rel="shortcut icon" type="x-icon" href="images/logo.ico">
        <style type="text/css">

.stackcontainer{
    margin: 100px 0 10px 0;
}

  #copy_if_stack{
      width: 850px; 
      height: 120px;
  }

        </style>
        <script src="js/jquery-3.2.1.min.js" type="text/javascript">
        </script>
        <script type="text/javascript">
$(document).ready(function(){
    document.addEventListener('impress:stepenter', function(event){
        if(event.target.id.search('outline') != -1)
        {
            $(".other").fadeTo("slow", 0.33);
        }
    }, false);
    document.addEventListener('impress:stepleave', function(event){
        $(".other").fadeTo("slow", 1);
    }, false);
});
        </script>
    </head>

    <body class="impress-not-supported">
        <div class="fallback-message">
            <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>

            <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
        </div>

        <div id="impress">
            <div class="step slide" data-x="0" data-y="0" data-scale="1" style="background: url('images/logo.jpeg'); background-repeat: no-repeat">
                <h1>Ibex</h1>
                <h2>Making Scikit-Learn Run On Top Of Pandas</h2>

                Ami Tavory, Shahar Azulay, Tali Raveh-Sadka
            </div>

            <div id="outline-intro" class="step slide" data-x="1400" data-y="0" data-scale="1">
                <h3>Outline</h3>

                <ul class="outline">
                    <li class="current">Motivation

                    <ul>
                        <li class="current">Example: Concatenate & Manipulate Columns</li>

                        <li class="other">Example: Long-To-Pivot + Merge Nonnegative Matrix Factorization</li>

                        <li class="other">Example: Nested Feature Union &amp; Pipelining</li>

                        <li class="other">Main Points</li>
                    </ul>

                    </li>
                    <li class="other">User Perspective</li>

                    <li class="other">Internals</li>

                    <li class="other">Conclusions</li>
                </ul>
            </div>


            <div class="step slide" data-x="1400" data-y="30", data-z="10", data-scale="0.01">
                <h3>Concatenate & Manipulate Columns</h3>
                <img src="generated/col_aggregating_further_transformations_with_feature_importances_.png">
            </div>
            <div class="step slide" data-x="1400" data-y="32", data-z="10", data-scale="0.01">
                <div class="abs-box base">
                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: true; toolbar: false highlight: [1, 2, 3]'>
                        from sklearn.decomposition import PCA 
                        from sklearn.pipeline import make_pipeline, make_union
                        import numpy as np

                        X = np.c_[X0, X1]

                        features = make_union(SelectKBest(k=1), PCA(n_components=2))
                        prd = make_pipeline(
                            features,
                            RandomForestRegressor())

                        prd.fit(X, y).feature_importances_
                        </pre>
                    </div>
                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: true; toolbar: false highlight: [5]'>
                        from sklearn.decomposition import PCA 
                        from sklearn.pipeline import make_pipeline, make_union
                        import numpy as np

                        X = np.c_[X0, X1]

                        features = make_union(SelectKBest(k=1), PCA(n_components=2))
                        prd = make_pipeline(
                            features,
                            RandomForestRegressor())

                        prd.fit(X, y).feature_importances_
                        </pre>
                    </div>
                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: true; toolbar: false highlight: [7, 8, 9, 10]'>
                        from sklearn.decomposition import PCA 
                        from sklearn.pipeline import make_pipeline, make_union
                        import numpy as np

                        X = np.c_[X0, X1]

                        features = make_union(SelectKBest(k=1), PCA(n_components=2))
                        prd = make_pipeline(
                            features,
                            RandomForestRegressor())

                        prd.fit(X, y).feature_importances_
                        </pre>
                    </div>
                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: true; toolbar: false highlight: [12]'>
                        from sklearn.decomposition import PCA 
                        from sklearn.pipeline import make_pipeline, make_union
                        import numpy as np

                        X = np.c_[X0, X1]

                        features = make_union(SelectKBest(k=1), PCA(n_components=2))
                        prd = make_pipeline(
                            features,
                            RandomForestRegressor())

                        prd.fit(X, y).feature_importances_
                        </pre>
                    </div>
                </div>
            </div>

            <div class="step slide" data-x="1400" data-y="37", data-z="10", data-scale="0.01">
                <div class="abs-box base">
                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: false; toolbar: false'>
                        >>> X0
                        array([[23.2, 21.8], ..., ..., ..., ])
                        </pre>
                    </div>

                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: false; toolbar: false'>
                        >>> X1
                        array([[9, 8, 78], ..., ..., ..., ])
                        </pre>
                    </div>

                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: false; toolbar: false'>
                        >>> X
                        array([[21.8, 0.3, 9.8], ..., ..., ..., ])
                        </pre>
                    </div>

                    <div class="abs-box substep smaller">
                        <pre class='brush: python; gutter: false; toolbar: false'>
                        >>> prd.feature_importances_
                        array([0.1, 0.3, 0.7])
                        </pre>
                    </div>
                </div>
            </div>
            <div class="step slide" data-x="1414" data-y="37", data-z="10", data-scale="0.01">
                <h3 class="baddy">Results Interpretability</h3>
                <div class="smaller">
                    <img src="generated/col_aggregating_further_transformations_with_feature_importances_.png">
                    <pre class='brush: python; gutter: false; toolbar: false'>
                    >>> prd.feature_importances_
                    array([0.1, 0.3, 0.7])
                    </pre>
                </div>
                <ul>
                    <li class="substep">What do these numbers mean?</li>
                    <li class="substep">Which original column does the first number represent?</li>
                </ul>
            </div>
            <div class="step slide" data-x="1414" data-y="47", data-z="10", data-scale="0.01">
                <h3 class="baddy">Column Maintenance</h3>
				<div class="substep">
					<p>Possible Train Scenario</p>
					<img src="generated/train_col_aggregating_further_transformations.png">
				</div>
				<div class="substep">
					<p>Possible Deployment Scenario</p>
					<img src="generated/deployment_col_aggregating_further_transformations.png">
				</div>
            </div>

            <div id="outline-intro-1" class="step slide" data-x="2700" data-y="0" data-scale="1">
                <h3>Outline</h3>

                <ul class="outline">
                    <li class="current">Motivation

                    <ul>
                        <li class="other">Example: Concatenate & Manipulate Columns</li>

                        <li class="current">Example: Long-To-Pivot + Merge Nonnegative Matrix Factorization</li>

                        <li class="other">Example: Nested Feature Union &amp; Pipelining</li>

                        <li class="other">Main Points</li>
                    </ul>

                    </li>

                    <li class="other">User Perspective</li>

                    <li class="other">Internals</li>

                    <li class="other">Conclusions</li>
                </ul>
            </div>

            <div class="step slide" data-x="2700" data-y="30", data-z="10", data-scale="0.01">
                <h3>Long-To-Pivot + Merge Nonnegative Matrix Factorization</h3>
				<div class="smaller">
					<table class="data" style="display: inline-block">
					<tr>
						<th>User</th>
						<th>Movie</th>
						<th>Rating</th>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="frozen">Frozen</td>
						<td class="rating">5</td>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="mulan">Mulan</td>
						<td class="rating">4</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="mulan">Mulan</td>
						<td class="rating">1</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="mulan">Mulan</td>
						<td class="rating">1</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="shrek">Shrek</td>
						<td class="rating">2</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="shrek">Shrek</td>
						<td class="rating">3</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="frozen">Frozen</td>
						<td class="rating">5</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="frozen">Frozen</td>
						<td class="rating">5</td>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="shrek">Shrek</td>
						<td class="rating">5</td>
					</tr>
					</table>
                    <img src="generated/grid_search_cv_nmf_random_forest_regressor.png" class="substep" style="display: inline-block">
				</div>
            </div>

            <div class="step slide" data-x="2700" data-y="40", data-z="10", data-scale="0.01">
                <h3>NMF Data Manipulation: Long-To-Pivot + Merge</h3>
                <p>Original Long Format</p>
				<div class="smaller">
					<table class="data">
					<tr>
						<th>User</th>
						<th>Movie</th>
						<th>Rating</th>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="frozen">Frozen</td>
						<td class="rating">5</td>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="mulan">Mulan</td>
						<td class="rating">4</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="mulan">Mulan</td>
						<td class="rating">1</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="mulan">Mulan</td>
						<td class="rating">1</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="shrek">Shrek</td>
						<td class="rating">2</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="shrek">Shrek</td>
						<td class="rating">3</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="frozen">Frozen</td>
						<td class="rating">5</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="frozen">Frozen</td>
						<td class="rating">5</td>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="shrek">Shrek</td>
						<td class="rating">5</td>
					</tr>
					</table>
				</div>
            </div>

            <div class="step slide" data-x="2708" data-y="39.3", data-z="10", data-scale="0.01">
                <div style="align: center">
                    <p>Pivot</p>
                    <div class="smaller">
                        <table class="data">
                        <tr>
                            <td></td>
                            <td class="frozen">Frozen</td>
                            <td class="shrek">Shrek</td>
                            <td class="mulan">Mulan</td>
                        </tr>
                        <tr>
                            <td class="roni">Roni</td>
                            <td>5</td>
                            <td>5</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td class="yarden">Yarden</td>
                            <td>5</td>
                            <td>3</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="anat">Anat</td>
                            <td>5</td>
                            <td>2</td>
                            <td>1</td>
                        </tr>
                        </table>
                    </div>
                </div>
            </div>

            <div class="step slide" data-x="2714" data-y="39.4", data-z="10", data-scale="0.01">
                <p>NMF Decomposition</p>
                <div>
                    <div class="smaller" style="display: inline-block">
                        <table class="data">
                        <tr>
                            <th>User</th>
                            <th>user_0</th>
                            <th>user_1</th>
                        </tr>
                        <tr>
                            <td class="roni">Roni</td>
                            <td class="roni">0.1</td>
                            <td class="roni">1.3</td>
                        </tr>
                        <tr>
                            <td class="yarden">Yarden</td>
                            <td class="yarden">1.1</td>
                            <td class="yarden">1.4</td>
                        </tr>
                        <tr>
                            <td class="anat">Anat</td>
                            <td class="anat">0.2</td>
                            <td class="anat">9.8</td>
                        </tr>
                        </table>
                    </div>
                    <div class="smaller" style="display: inline-block">
                        <table class="data">
                        <tr>
                            <th>Movie</th>
                            <th>movie_0</th>
                            <th>movie_1</th>
                        </tr>
                        <tr>
                            <td class="frozen">Frozen</td>
                            <td class="frozen">10</td>
                            <td class="frozen">20</td>
                        </tr>
                        <tr>
                            <td class="shrek">Shrek</td>
                            <td class="shrek">20.1</td>
                            <td class="shrek">30.4</td>
                        </tr>
                        <tr>
                            <td class="mulan">Mulan</td>
                            <td class="mulan">12</td>
                            <td class="mulan">13</td>
                        </tr>
                        </table>
                    </div>
                </div>
            </div>

            <div class="step slide" data-x="2700" data-y="40", data-z="10", data-scale="0.01">
            </div>

            <div class="step slide" data-x="2700" data-y="47", data-z="10", data-scale="0.01">
                <p>Merge With Long Format</p>
				<div class="smaller">
					<table class="data">
					<tr>
						<th>User</th>
						<th>Movie</th>
						<th>user_0</th>
						<th>user_1</th>
						<th>movie_0</th>
						<th>movie_1</th>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="frozen">Frozen</td>
						<td class="roni">0.1</td>
						<td class="roni">1.3</td>
						<td class="frozen">10</td>
						<td class="frozen">20</td>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="mulan">Mulan</td>
						<td class="roni">0.1</td>
						<td class="roni">1.3</td>
						<td class="mulan">12</td>
						<td class="mulan">13</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="mulan">Mulan</td>
						<td class="yarden">1.1</td>
						<td class="yarden">1.4</td>
						<td class="mulan">12</td>
						<td class="mulan">13</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="mulan">Mulan</td>
						<td class="anat">0.2</td>
						<td class="anat">9.8</td>
						<td class="mulan">12</td>
						<td class="mulan">13</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="shrek">Shrek</td>
						<td class="anat">0.2</td>
						<td class="anat">9.8</td>
						<td class="shrek">20.1</td>
						<td class="shrek">30.4</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="shrek">Shrek</td>
						<td class="yarden">1.1</td>
						<td class="yarden">1.4</td>
						<td class="shrek">20.1</td>
						<td class="shrek">30.4</td>
					</tr>
					<tr>
						<td class="yarden">Yarden</td>
						<td class="frozen">Frozen</td>
						<td class="yarden">1.1</td>
						<td class="yarden">1.4</td>
						<td class="frozen">10</td>
						<td class="frozen">20</td>
					</tr>
					<tr>
						<td class="anat">Anat</td>
						<td class="frozen">Frozen</td>
						<td class="anat">0.2</td>
						<td class="anat">9.8</td>
						<td class="frozen">10</td>
						<td class="frozen">20</td>
					</tr>
					<tr>
						<td class="roni">Roni</td>
						<td class="shrek">Shrek</td>
						<td class="roni">0.1</td>
						<td class="roni">1.3</td>
						<td class="shrek">20.1</td>
						<td class="shrek">30.4</td>
					</tr>
					</table>
				</div>
            </div>
            <div class="step slide" data-x="2700" data-y="56", data-z="10", data-scale="0.01">
                <h3 class="baddy">Performing The Munging</h3>
                <ul>
                    <li>How to actually perform the pivots + merge?</li>
                    <li class="substep">Is <span class="baddy">this</span> really data?
                        <div class="smaller">
                            <table class="data">
                            <tr>
                                <th class="baddy">User</th>
                                <th class="baddy">Movie</th>
                                <th>Rating</th>
                            </tr>
                            <tr>
                                <td class="roni">Roni</td>
                                <td class="frozen">Frozen</td>
                                <td class="rating">5</td>
                            </tr>
                            <tr>
                                <td class="roni">Roni</td>
                                <td class="mulan">Mulan</td>
                                <td class="rating">4</td>
                            </tr>
                            <tr>
                                <td class="yarden">Yarden</td>
                                <td class="mulan">Mulan</td>
                                <td class="rating">1</td>
                            </tr>
                            <tr>
                                <td class="anat">Anat</td>
                                <td class="mulan">Mulan</td>
                                <td class="rating">1</td>
                            </tr>
                            <tr>
                                <td class="anat">Anat</td>
                                <td class="shrek">Shrek</td>
                                <td class="rating">2</td>
                            </tr>
                            <tr>
                                <td class="yarden">Yarden</td>
                                <td class="shrek">Shrek</td>
                                <td class="rating">3</td>
                            </tr>
                            <tr>
                                <td class="yarden">Yarden</td>
                                <td class="frozen">Frozen</td>
                                <td class="rating">5</td>
                            </tr>
                            <tr>
                                <td class="anat">Anat</td>
                                <td class="frozen">Frozen</td>
                                <td class="rating">5</td>
                            </tr>
                            <tr>
                                <td class="roni">Roni</td>
                                <td class="shrek">Shrek</td>
                                <td class="rating">5</td>
                            </tr>
                            </table>
                        </div> 
                    </li>
                </ul>
            </div>

            <div id="outline-intro-2" class="step slide" data-x="4000" data-y="0" data-scale="1">
                <h3>Outline</h3>

                <ul class="outline">
                    <li class="current">Motivation

                    <ul>
                        <li class="other">Example: Concatenate & Manipulate Columns</li>

                        <li class="other">Example: Long-To-Pivot + Merge Nonnegative Matrix Factorization</li>

                        <li class="current">Example: Nested Feature Union &amp; Pipelining</li>

                        <li class="other">Main Points</li>
                    </ul>

                    </li>

                    <li class="other">User Perspective</li>

                    <li class="other">Internals</li>

                    <li class="other">Conclusions</li>
                </ul>
            </div>
            <div id="outline-intro-3" class="step slide" data-x="5300" data-y="0" data-scale="1">
                <h3>Outline</h3>

                <ul class="outline">
                    <li class="current">Motivation

                    <ul>
                        <li class="other">Example: Concatenate & Manipulate Columns</li>

                        <li class="other">Example: Long-To-Pivot + Merge Nonnegative Matrix Factorization</li>

                        <li class="other">Example: Nested Feature Union &amp; Pipelining</li>

                        <li class="current">Main Points</li>
                    </ul>

                    </li>

                    <li class="other">User Perspective</li>

                    <li class="other">Internals</li>

                    <li class="other">Conclusions</li>
                </ul>
            </div>
            <div class="step slide" data-x="5300" data-y="30", data-z="10", data-scale="0.01">
                <h3>1) Use Metadata</h3>
                <div class="smaller">
                    <table class="data">
                        <tr>
                            <td>5.1</td>
                            <td>3.5</td>
                            <td>1.4</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <td>4.9</td>
                            <td>3.0</td>
                            <td>1.4</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <td>4.7</td>
                            <td>3.2</td>
                            <td>1.3</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <td>4.6</td>
                            <td>3.1</td>
                            <td>1.5</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <td>5.0</td>
                            <td>3.6</td>
                            <td>1.4</td>
                            <td>0.2</td>
                        </tr>
                    </table>
                </div>

                <div class="smaller">
                    <table class="data">
                        <tr>
                            <th></th>
                            <th>sepal length (cm)</th>
                            <th>sepal width (cm)</th>
                            <th>petal length (cm)</th>
                            <th>petal width (cm)</th>
                        </tr>
                        <tr>
                            <th>0</th>
                            <td>5.1</td>
                            <td>3.5</td>
                            <td>1.4</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <th>1</th>
                            <td>4.9</td>
                            <td>3.0</td>
                            <td>1.4</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <th>2</th>
                            <td>4.7</td>
                            <td>3.2</td>
                            <td>1.3</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <th>3</th>
                            <td>4.6</td>
                            <td>3.1</td>
                            <td>1.5</td>
                            <td>0.2</td>
                        </tr>
                        <tr>
                            <th>4</th>
                            <td>5.0</td>
                            <td>3.6</td>
                            <td>1.4</td>
                            <td>0.2</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="step slide" data-x="5300" data-y="37", data-z="10", data-scale="0.01">
                <img src="generated/ibex_class_diagram_np.png">
            </div>
            <div class="step slide" data-x="5300" data-y="44", data-z="10", data-scale="0.01">
                <img src="generated/ibex_class_diagram_pandas.png">
            </div>
            <div class="step slide" data-x="5313" data-y="30", data-z="10", data-scale="0.01">
                <h3>2) Alternative <i>Optional</i> Combination Notation</h3>
            </div>
        </div><script src="js/shCore.js" type="text/javascript">
    </script><script src="js/shBrushPython.js" type="text/javascript">
    </script><script type="text/javascript">
SyntaxHighlighter.all()
    </script><script src="js/impress.js" type="text/javascript">
    </script><script type="text/javascript">
impress().init();
    </script>
    </div>
    </body>
</html>
